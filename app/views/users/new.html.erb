<%# First argument in form cannot contain nil or be empty, the error is here on line 3 %>

<%= form_for(:user, :url => {:controller => 'users', :action => 'create'}) do |f| %>

 <% if @user.errors.any? %>
    <% @user.errors.full_messages.each do |msg| %>
      <h3><%= msg %></h3>
    <% end %>
  <% end %>

  <%= f.label :name, 'Username:' %>
  <%= f.text_field :name %><br>

  <%= f.label :password, 'Password:' %>
  <%= f.password_field :password %><br>

  <%= f.label :password_confirmation, 'Confirm Your Password:' %>
  <%= f.password_field :password_confirmation %><br>

  <%= f.submit "Create New User" %>
<% end %>

<p><%= button_to "Homepage", root_path, :method => "get" %></p>